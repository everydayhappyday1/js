<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table {
            border-spacing: 0;
            border-collapse: collapse;
        }
        tr, td{
            border: 1px solid #777;
        }
    </style>
</head>
<body>
    <!-- 노드 = 태그 = 엘리먼트 -->
    <table>
        <thead>
            <tr>
                <th>이름</th>
                <th>번호</th>
                <th>이름</th>
                <th>내용</th>
            </tr>
        </thead>
        <tbody class="table">
            <!-- 나 자신을 매개변수로 넘겨준다 == this -->
            <tr>
                <td><!--td버튼 기준으로 자식은 버튼-->
                    <button type="button" onclick="down(this)">△</button> <!--이 버튼 기준으로 다음 형제는 같은 레벨에 있는 ▽, 이 버튼을 기준으로 부모요소는 td -->
                    <button type="button" onclick="up(this)">▽</button>
                </td>
                <td>1</td>
                <td>엉엉</td>
                <td>고구마</td>
            </tr>



            <tr>
                <td>
                    <button type="button" onclick="down(this)">△</button>
                    <button type="button" onclick="up(this)">▽</button>
                </td>
                <td>2</td>
                <td>쉬카이</td>
                <td>뿌잉</td>
            </tr>



            <tr>
                <td>
                    <button type="button" onclick="down(this)">△</button>
                    <button type="button" onclick="up(this)">▽</button>
                </td>
                <td>3</td>
                <td>홍길동</td>
                <td>핸드폰 교체</td>
            </tr>



            <tr>
                <td>
                    <button type="button" onclick="down(this)">△</button>
                    <button type="button" onclick="up(this)">▽</button>
                </td>
                <td>4</td>
                <td>허개</td>
                <td>안녕하세요</td>
            </tr>



            <tr>
                <td>
                    <button type="button" onclick="down(this)">△</button>
                    <button type="button" onclick="up(this)">▽</button>
                </td>
                <td>5</td>
                <td>김</td>
                <td>??</td>
            </tr>
        </tbody>
    </table>


    <script>
        function down(node){
            //console.log(node);
            //console.dir(node); // 점 찍어서 사용할 수 있는 기능 목록 보기
             
            //console.log(node.parentEliment); // 부모 노드 선택 (태그만 선택) --> 우리가 사용할 것 --> 버튼 부모인 td를 가져온다.
            //console.log(node.parentNode);    // 부모 노드 선택 (text, 주석, 태그 모두 선택)
            
            //console.log(node.nextElimentSibling);       // 다음 형제 노드 (태그만 선택)
            //console.log(node.previousElimentSibling);   // 이전 형제 노드 
 
            //console.log(node.firstElementChild);   // 첫번째 자식 요소 (지금은 없음) --> 버튼에 자식이 없으니까
            //console.log(node.lastElimentChild);    // 마지막 자식 요소 (지금은 없음)

            //insertBefore // 특정 기준 태그 앞에 태그 삽입하기 (삽입노드, 기준노드)
            
            // 행 선택하기
            // tr을 선택하려면 td 타고 올라가야 함. 그래서 parentEliment를 두번 씀
            var current = node.parentEliment.parentEliment;
            // 다음 행 형제 선택하기
            var next = current.nextElimentSibling;

            //console.log(current);
            //console.log(next);
            if(next == null){
                alert('마지막 행입니다.');
                return; // 함수종료
            }

            //insertBefore 기준노드 앞에 삽입노드 추가 
            var table = document.querySelector(".table");
            table.insertBefore(next,current);


        }   
        function up(node){
            var current = node.parentEliment.parentEliment;
            var next = current.nextElimentSibling;
            var table = document.querySelector(".table");
            table.insertBefore(current,next);
        }

    </script>
</body> 
</html>